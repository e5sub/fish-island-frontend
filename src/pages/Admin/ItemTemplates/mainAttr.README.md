# 装备属性 (mainAttr) JSON 格式说明

## 格式要求

`mainAttr` 字段需要是一个 JSON 字符串，格式为对象（Map），key 是属性名，value 是属性值（小数类型，如 0.1 表示 10%）。

**注意：** 后端存储的是小数形式（如 0.1 表示 10%），但在管理界面中编辑时显示为百分比形式（如 10%），系统会自动进行转换。

## 基本格式

```json
{
  "属性名": 小数数值
}
```

## 支持的属性列表

### 主动属性
| 属性名 | 说明 | 示例值 |
|--------|------|--------|
| `critRate` | 暴击率 - 触发暴击的几率（百分比） | 10 |
| `comboRate` | 连击率 - 触发连击的几率（百分比） | 5 |
| `dodgeRate` | 闪避率 - 闪避攻击的几率（百分比） | 8 |
| `blockRate` | 格挡率 - 格挡攻击的几率（百分比） | 12 |
| `lifesteal` | 吸血 - 造成伤害时恢复生命值的比例（百分比） | 3 |

### 抗性属性
| 属性名 | 说明 | 示例值 |
|--------|------|--------|
| `critResistance` | 抗暴击 - 降低被暴击的几率（百分比） | 6 |
| `comboResistance` | 抗连击 - 降低被连击的几率（百分比） | 4 |
| `dodgeResistance` | 抗闪避 - 降低敌人闪避的几率（百分比） | 5 |
| `blockResistance` | 抗格挡 - 降低敌人格挡的几率（百分比） | 7 |
| `lifestealResistance` | 抗吸血 - 降低敌人吸血效果（百分比） | 3 |

## 完整示例

**后端存储格式（小数形式）：**
```json
{
  "critRate": 0.1,
  "comboRate": 0.05,
  "dodgeRate": 0.08,
  "blockRate": 0.12,
  "lifesteal": 0.03,
  "critResistance": 0.06,
  "comboResistance": 0.04,
  "dodgeResistance": 0.05,
  "blockResistance": 0.07,
  "lifestealResistance": 0.03
}
```

**说明：** 上述值对应界面上的 10%, 5%, 8%, 12%, 3%, 6%, 4%, 5%, 7%, 3%

## 使用说明

1. 在管理后台的"装备属性"字段中，通过可视化界面编辑属性值（以百分比形式显示，如 10 表示 10%）
2. 可以只设置需要的属性，未设置的属性不会包含在 JSON 中
3. 属性值应为数字类型（支持小数）
4. 属性名必须与支持的属性列表中的名称完全一致（区分大小写）
5. 值为 0 的属性不会保存到 JSON 中
6. **重要：** 界面上输入的是百分比值（如 10 表示 10%），系统会自动转换为小数形式（0.1）存储到后端

## 示例场景

### 只设置暴击和吸血
**界面输入：** 暴击率 15%，吸血 5%  
**后端存储：**
```json
{
  "critRate": 0.15,
  "lifesteal": 0.05
}
```

### 防御型装备（高闪避和格挡）
**界面输入：** 闪避率 20%，格挡率 25%，抗暴击 10%，抗连击 8%  
**后端存储：**
```json
{
  "dodgeRate": 0.2,
  "blockRate": 0.25,
  "critResistance": 0.1,
  "comboResistance": 0.08
}
```

### 全抗性装备（高抗性属性）
**界面输入：** 抗暴击 15%，抗连击 12%，抗闪避 10%，抗格挡 15%，抗吸血 8%  
**后端存储：**
```json
{
  "critResistance": 0.15,
  "comboResistance": 0.12,
  "dodgeResistance": 0.1,
  "blockResistance": 0.15,
  "lifestealResistance": 0.08
}
```
