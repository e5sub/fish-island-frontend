"use strict";(self.webpackChunkreact_frontend_init=self.webpackChunkreact_frontend_init||[]).push([[4972],{84972:function(I,s,r){r.r(s);var y=r(95688),l=r.n(y),v=r(76069),P=r.n(v),j=r(52419),i=r.n(j),_=r(67294),b=r(85893),M=function(d){var a=d.playerId,c=d.mode,m=c===void 0?"1":c,D=(0,_.useState)(!0),p=i()(D,2),g=p[0],h=p[1],O=(0,_.useState)(null),E=i()(O,2),L=E[0],f=E[1];return(0,_.useEffect)(function(){var u,T=function(){return new Promise(function(t,n){if(window.jQuery){t();return}var e=document.createElement("script");e.src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js",e.async=!0,e.onload=function(){return t()},e.onerror=function(){return n(new Error("Failed to load jQuery"))},document.head.appendChild(e),u=setTimeout(function(){n(new Error("jQuery loading timeout"))},1e4)})},A=function(){return new Promise(function(t,n){var e=document.createElement("script");e.src="https://myhkw.cn/api/player/".concat(a),e.id="myhk",e.setAttribute("key",a),e.setAttribute("m",m),e.async=!0,e.onload=function(){return t()},e.onerror=function(){return n(new Error("Failed to load player script"))},document.body.appendChild(e),u=setTimeout(function(){n(new Error("Player script loading timeout"))},1e4)})},C=function(){var o=P()(l()().mark(function t(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),f(null),e.next=5,T();case 5:return e.next=7,A();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error loading scripts:",e.t0),f(e.t0 instanceof Error?e.t0.message:"\u52A0\u8F7D\u64AD\u653E\u5668\u5931\u8D25");case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},t,null,[[0,9,13,16]])}));return function(){return o.apply(this,arguments)}}();return C(),function(){clearTimeout(u);var o=document.getElementById("myhk");o&&document.body.removeChild(o);var t=document.querySelectorAll('[class*="myhk"]');t.forEach(function(n){n.remove()})}},[a,m]),(0,b.jsx)("div",{id:"music-player-container"})};s.default=M}}]);
