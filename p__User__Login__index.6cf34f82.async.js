"use strict";(self.webpackChunkreact_frontend_init=self.webpackChunkreact_frontend_init||[]).push([[9366],{27506:function(V,j,e){e.r(j);var f=e(57566),l=e.n(f),A=e(84136),r=e.n(A),I=e(52487),E=e.n(I),p=e(90785),C=e.n(p),T=e(61760),L=e(67524),x=e(87547),S=e(94149),B=e(68262),c=e(5966),b=e(31528),a=e(82257),v=e(68872),R=e(11941),U=e(67294),W=e(94891),_=e(85893),K=function(){var y=(0,U.useState)("account"),g=C()(y,2),P=g[0],k=g[1],h=(0,a.useModel)("@@initialState"),N=h.initialState,Z=h.setInitialState,F=(0,b.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),J=function(){var u=E()(l()().mark(function o(i){var t,s,d,M,m,D,O;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,L.Yl)(r()({},i));case 3:t=n.sent,t.code===0&&(M="\u767B\u5F55\u6210\u529F\uFF01",m=t.data,localStorage.setItem("tokenName",(s=m.saTokenInfo)===null||s===void 0?void 0:s.tokenName),localStorage.setItem("tokenValue",(d=m.saTokenInfo)===null||d===void 0?void 0:d.tokenValue),v.ZP.success(M),Z(r()(r()({},N),{},{currentUser:t.data})),D=new URL(window.location.href).searchParams,a.history.push(D.get("redirect")||"/")),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),O="\u767B\u5F55\u5931\u8D25\uFF0C".concat(n.t0.message),v.ZP.error(O);case 11:case"end":return n.stop()}},o,null,[[0,7]])}));return function(i){return u.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:F,children:[(0,_.jsx)(a.Helmet,{children:(0,_.jsxs)("title",{children:["\u767B\u5F55","- ",W.Z.title]})}),(0,_.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,_.jsxs)(B.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,_.jsx)("img",{alt:"logo",style:{height:"100%"},src:"https://api.oss.cqbo.com/moyu/moyu.png"}),title:"\u6478\u9C7C\u5C9B",subTitle:"\u52A0\u5165\u6478\u9C7C\u5C9B\u4E00\u8D77\u6765\u6478\u5427",initialValues:{autoLogin:!0},onFinish:function(){var u=E()(l()().mark(function o(i){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,J(i);case 2:case"end":return s.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),children:[(0,_.jsx)(R.Z,{activeKey:P,onChange:k,centered:!0,items:[{key:"account",label:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"}]}),P==="account"&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(c.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,_.jsx)(x.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",rules:[{required:!0,message:"\u8D26\u53F7\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,_.jsx)(c.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,_.jsx)(S.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]}),(0,_.jsx)("div",{style:{marginBottom:24,textAlign:"right"},children:(0,_.jsx)(a.Link,{to:"/user/register",children:"\u65B0\u7528\u6237\u6CE8\u518C"})})]})}),(0,_.jsx)(T.Z,{})]})};j.default=K}}]);
