"use strict";(self.webpackChunkreact_frontend_init=self.webpackChunkreact_frontend_init||[]).push([[2962],{42962:function(k,l,n){n.r(l);var y=n(57566),i=n.n(y),v=n(52487),b=n.n(v),h=n(90785),u=n.n(h),s=n(67294),P=n(85893),I=function(d){var t=d.playerId,m=d.mode,c=m===void 0?"1":m,S=(0,s.useState)(!0),j=u()(S,2),A=j[0],p=j[1],M=(0,s.useState)(null),E=u()(M,2),C=E[0],f=E[1];return(0,s.useEffect)(function(){var a,g=function(){return new Promise(function(r,o){if(window.jQuery){r();return}var e=document.createElement("script");e.src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js",e.async=!0,e.onload=function(){return r()},e.onerror=function(){return o(new Error("Failed to load jQuery"))},document.head.appendChild(e),a=setTimeout(function(){o(new Error("jQuery loading timeout"))},1e4)})},D=function(){return new Promise(function(r,o){var e=document.createElement("script");e.src="https://myhkw.cn/api/player/".concat(t),e.id="myhk",e.setAttribute("key",t),e.setAttribute("m",c),e.async=!0,e.onload=function(){return r()},e.onerror=function(){return o(new Error("Failed to load player script"))},document.body.appendChild(e),a=setTimeout(function(){o(new Error("Player script loading timeout"))},1e4)})},O=function(){var _=b()(i()().mark(function r(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),f(null),e.next=5,g();case 5:return e.next=7,D();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error loading scripts:",e.t0),f(e.t0 instanceof Error?e.t0.message:"\u52A0\u8F7D\u64AD\u653E\u5668\u5931\u8D25");case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}},r,null,[[0,9,13,16]])}));return function(){return _.apply(this,arguments)}}();return O(),function(){clearTimeout(a);var _=document.getElementById("myhk");_&&document.body.removeChild(_);var r=document.querySelectorAll('[class*="myhk"]');r.forEach(function(o){o.remove()})}},[t,c]),(0,P.jsx)("div",{id:"music-player-container"})};l.default=I}}]);
