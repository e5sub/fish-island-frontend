(self.webpackChunkreact_frontend_init=self.webpackChunkreact_frontend_init||[]).push([[3371],{44793:function(b,S,t){"use strict";t.r(S),t.d(S,{default:function(){return ye}});var c=t(84136),i=t.n(c),w=t(57566),s=t.n(w),a=t(52487),l=t.n(a),g=t(64581),j=t.n(g),O=t(90785),C=t.n(O),v=t(67294),Y=t(83622),ce=t(85418),G=t(55102),fe=t(41441),pe=t(34804),_e=t(40110),r={container:"container___ulS8A",wallpaperOverlay:"wallpaperOverlay___Peuqd",themeSwitchWrapper:"themeSwitchWrapper___O2Uko",themeSwitch:"themeSwitch___Xx_k_",weatherSection:"weatherSection___fEskF",weatherInfo:"weatherInfo___uaZjb",temperature:"temperature___Bupsp",weatherDetails:"weatherDetails___cXFet",timeSection:"timeSection___g4pGI",time:"time___QE9gp",date:"date___vDJjI",searchSection:"searchSection___x9NMl",searchWrapper:"searchWrapper___Zajvm",engineSelector:"engineSelector___dcxDb",anticon:"anticon___cGGlc",searchInput:"searchInput___jaHl3",engineOption:"engineOption___hjoha",shortcutsSection:"shortcutsSection___zFCxU",countdownSection:"countdownSection___vXHU5",countdownItem:"countdownItem___MybiB",countdownTitle:"countdownTitle___dzqXZ",countdownTime:"countdownTime___bK9D5",settingsButton:"settingsButton___c2ICO"},Se=t(95914),ee=t.n(Se),Be=t(44608),V={shortcut:"shortcut___hastY",iconWrapper:"iconWrapper___KH5xY",icon:"icon___stSPg",title:"title___V8Vc9"},e=t(85893),we=function(E){var N=E.icon,M=E.title,T=E.url,B=function(){window.open(T,"_blank")};return(0,e.jsxs)("div",{className:V.shortcut,onClick:B,children:[(0,e.jsx)("div",{className:V.iconWrapper,children:(0,e.jsx)("img",{src:N,alt:M,className:V.icon})}),(0,e.jsx)("div",{className:V.title,children:M})]})},ge=we,je=t(11550),Ce=t(50136),xe=t(16801),Ee=t(88484),De=function(E){var N=E.onWallpaperChange,M=function(){var B=l()(s()().mark(function L(F){var W;return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return W=new FileReader,W.onload=function(A){var I;(I=A.target)!==null&&I!==void 0&&I.result&&(N(A.target.result),localStorage.setItem("wallpaper",A.target.result))},W.readAsDataURL(F),P.abrupt("return",!1);case 4:case"end":return P.stop()}},L)}));return function(F){return B.apply(this,arguments)}}(),T=[{key:"default",icon:(0,e.jsx)(xe.Z,{}),label:"\u6062\u590D\u9ED8\u8BA4\u58C1\u7EB8",onClick:function(){N("/img/defaultWallpaper.webp"),localStorage.removeItem("wallpaper")}},{key:"upload",icon:(0,e.jsx)(Ee.Z,{}),label:(0,e.jsx)(je.Z,{showUploadList:!1,accept:"image/*",beforeUpload:M,children:"\u4E0A\u4F20\u56FE\u7247"})}];return(0,e.jsx)(Ce.Z,{items:T})},Oe=De,U=t(47019),le=t(68872),te=t(83062),ue=t(51042),Pe=t(43425),Ie=t(28508),o={sidebar:"sidebar___Do3sj",collapsed:"collapsed___BUWGN",sidebarContent:"sidebarContent___pVaNB",buttonGroup:"buttonGroup___LmQd5",actionButton:"actionButton___i8wqb",formSection:"formSection___tMGUs",input:"input___hXVkC",inputPrefix:"inputPrefix___QC0Bj",submitButton:"submitButton___a72ev",sitesList:"sitesList___mOpie",siteItem:"siteItem___uvrU6",siteIcon:"siteIcon___pCPsa",siteTitle:"siteTitle___H6Rpp",deleteButton:"deleteButton___chXJS"},Ze=function(E){var N=E.visible,M=E.onClose,T=E.onAddSite,B=E.sites,L=U.Z.useForm(),F=C()(L,1),W=F[0],$=(0,v.useState)(!0),P=C()($,2),A=P[0],I=P[1],ae=(0,v.useState)(!1),K=C()(ae,2),H=K[0],se=K[1],re=(0,v.useState)(!1),z=C()(re,2),R=z[0],X=z[1];(0,v.useEffect)(function(){var f=function(d){var _=d.target,y=document.querySelector(".".concat(o.sidebar));y&&!y.contains(_)&&I(!0)};return document.addEventListener("click",f),function(){document.removeEventListener("click",f)}},[]);var ie=function(){var f=l()(s()().mark(function u(d){var _,y,Z;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,fetch(d);case 3:return _=h.sent,h.next=6,_.text();case 6:return y=h.sent,Z=y.match(/<title[^>]*>([^<]+)<\/title>/),h.abrupt("return",Z?Z[1]:d);case 11:return h.prev=11,h.t0=h.catch(0),console.error("\u83B7\u53D6\u7F51\u9875\u6807\u9898\u5931\u8D25:",h.t0),h.abrupt("return",d);case 15:case"end":return h.stop()}},u,null,[[0,11]])}));return function(d){return f.apply(this,arguments)}}(),J=function(){var f=l()(s()().mark(function u(d){var _,y,Z,k;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(X(!0),p.prev=1,_=d.url,!_.startsWith("http://")&&!_.startsWith("https://")&&(_="https://".concat(_)),y=new URL(_).hostname,Z=d.title,Z){p.next=10;break}return p.next=9,ie(_);case 9:Z=p.sent;case 10:k={title:Z,url:_,icon:d.icon||"https://".concat(y,"/favicon.ico")},T(k),W.resetFields(),I(!0),le.ZP.success("\u7F51\u7AD9\u6DFB\u52A0\u6210\u529F\uFF01"),p.next=20;break;case 17:p.prev=17,p.t0=p.catch(1),le.ZP.error("\u6DFB\u52A0\u7F51\u7AD9\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u5740\u662F\u5426\u6B63\u786E");case 20:return p.prev=20,X(!1),p.finish(20);case 23:case"end":return p.stop()}},u,null,[[1,17,20,23]])}));return function(d){return f.apply(this,arguments)}}(),Q=function(u,d){u.stopPropagation(),!A&&(d==="add"&&H||d==="manage"&&!H)?I(!0):(I(!1),se(d==="add"))};return(0,e.jsxs)("div",{className:"".concat(o.sidebar," ").concat(A?o.collapsed:""),onClick:function(u){return u.stopPropagation()},children:[(0,e.jsxs)("div",{className:o.buttonGroup,children:[(0,e.jsx)(te.Z,{title:"\u6DFB\u52A0\u7F51\u7AD9",placement:"left",children:(0,e.jsx)(Y.ZP,{type:"text",icon:(0,e.jsx)(ue.Z,{}),onClick:function(u){return Q(u,"add")},className:o.actionButton})}),(0,e.jsx)(te.Z,{title:"\u7BA1\u7406\u7F51\u7AD9",placement:"left",children:(0,e.jsx)(Y.ZP,{type:"text",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(u){return Q(u,"manage")},className:o.actionButton})})]}),(0,e.jsx)("div",{className:o.sidebarContent,children:H?(0,e.jsx)("div",{className:o.formSection,children:(0,e.jsxs)(U.Z,{form:W,onFinish:J,layout:"vertical",children:[(0,e.jsx)(U.Z.Item,{name:"title",children:(0,e.jsx)(G.Z,{placeholder:"\u7F51\u7AD9\u540D\u79F0\uFF08\u53EF\u9009\uFF0C\u7559\u7A7A\u5C06\u81EA\u52A8\u83B7\u53D6\uFF09",className:o.input,prefix:(0,e.jsx)("span",{className:o.inputPrefix,children:"\u540D\u79F0"})})}),(0,e.jsx)(U.Z.Item,{name:"url",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740"},{pattern:/^(https?:\/\/)?[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+.*$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u7F51\u5740"}],children:(0,e.jsx)(G.Z,{placeholder:"https://",className:o.input,prefix:(0,e.jsx)("span",{className:o.inputPrefix,children:"\u7F51\u5740"})})}),(0,e.jsx)(U.Z.Item,{name:"icon",children:(0,e.jsx)(G.Z,{placeholder:"\u56FE\u6807\u5730\u5740\uFF08\u53EF\u9009\uFF09",className:o.input,prefix:(0,e.jsx)("span",{className:o.inputPrefix,children:"\u56FE\u6807"})})}),(0,e.jsx)(Y.ZP,{type:"primary",htmlType:"submit",className:o.submitButton,icon:(0,e.jsx)(ue.Z,{}),loading:R,children:"\u6DFB\u52A0\u7F51\u7AD9"})]})}):(0,e.jsxs)("div",{className:o.sitesList,children:[(0,e.jsx)("h4",{children:"\u5DF2\u6DFB\u52A0\u7684\u7F51\u7AD9"}),B.map(function(f,u){return(0,e.jsxs)("div",{className:o.siteItem,children:[(0,e.jsx)("img",{src:f.icon,alt:f.title,className:o.siteIcon}),(0,e.jsx)("span",{className:o.siteTitle,children:f.title}),(0,e.jsx)(te.Z,{title:"\u5220\u9664",children:(0,e.jsx)(Y.ZP,{type:"text",icon:(0,e.jsx)(Ie.Z,{}),className:o.deleteButton})})]},u)})]})})]})},Me=Ze;ee().locale("zh-cn");var de=[{name:"\u767E\u5EA6",icon:"https://www.baidu.com/favicon.ico",url:"https://www.baidu.com/s?wd="},{name:"\u8C37\u6B4C",icon:"https://www.google.com/favicon.ico",url:"https://www.google.com/search?q="},{name:"\u5FC5\u5E94",icon:"https://www.bing.com/favicon.ico",url:"https://www.bing.com/search?q="}],me=[{icon:"https://www.baidu.com/favicon.ico",title:"\u767E\u5EA6",url:"https://www.baidu.com"},{icon:"https://www.bilibili.com/favicon.ico",title:"bilibili",url:"https://www.bilibili.com"},{icon:"https://www.zhihu.com/favicon.ico",title:"\u77E5\u4E4E",url:"https://www.zhihu.com"},{icon:"https://images.seeklogo.com/logo-png/30/2/github-logo-png_seeklogo-304612.png",title:"GitHub",url:"https://github.com"},{icon:"https://www.taobao.com/favicon.ico",title:"\u6DD8\u5B9D",url:"https://www.taobao.com"},{icon:"https://www.jd.com/favicon.ico",title:"\u4EAC\u4E1C",url:"https://www.jd.com"}],Ae=function(){var E=(0,v.useState)(ee()()),N=C()(E,2),M=N[0],T=N[1],B=(0,v.useState)({temperature:"",condition:"",city:""}),L=C()(B,2),F=L[0],W=L[1],$=(0,v.useState)(function(){var n=localStorage.getItem("customSites");return n?JSON.parse(n):[]}),P=C()($,2),A=P[0],I=P[1],ae=(0,v.useState)(function(){var n=localStorage.getItem("customSites"),m=n?JSON.parse(n):[];return[].concat(me,j()(m))}),K=C()(ae,2),H=K[0],se=K[1],re=(0,v.useState)(de[0]),z=C()(re,2),R=z[0],X=z[1],ie=(0,v.useState)(function(){var n=localStorage.getItem("wallpaper");return n||"/img/defaultWallpaper.webp"}),J=C()(ie,2),Q=J[0],f=J[1],u=(0,v.useState)(!1),d=C()(u,2),_=d[0],y=d[1];(0,v.useEffect)(function(){var n=setInterval(function(){T(ee()())},1e3);return function(){clearInterval(n)}},[]),(0,v.useEffect)(function(){var n=function(){var D=l()(s()().mark(function he(){var ve,oe,q;return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,fetch("https://api.kxzjoker.cn/api/Weather");case 3:return ve=x.sent,x.next=6,ve.json();case 6:oe=x.sent,oe.code===200&&(q=oe.data.tianqi,W({temperature:"".concat(q.temperature,"\xB0"),condition:q.weather,city:q.city})),x.next=13;break;case 10:x.prev=10,x.t0=x.catch(0),console.error("\u83B7\u53D6\u5929\u6C14\u6570\u636E\u5931\u8D25:",x.t0);case 13:case"end":return x.stop()}},he,null,[[0,10]])}));return function(){return D.apply(this,arguments)}}();n();var m=setInterval(n,30*60*1e3);return function(){clearInterval(m)}},[]),(0,v.useEffect)(function(){var n=function(D){D.ctrlKey&&D.shiftKey&&D.key.toLowerCase()==="b"&&(console.log("\u5FEB\u6377\u952E\u89E6\u53D1: Ctrl+Shift+B"),D.preventDefault(),p())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}},[]);var Z=function(m){m.trim()&&window.open("".concat(R.url).concat(encodeURIComponent(m)),"_blank")},k={items:de.map(function(n){return{key:n.name,label:(0,e.jsxs)("div",{className:r.engineOption,children:[(0,e.jsx)("img",{src:n.icon,alt:n.name}),(0,e.jsx)("span",{children:n.name})]}),onClick:function(){return X(n)}}})},h=function(m){m.preventDefault()},p=function(){var m=new URLSearchParams(window.location.search),D=m.get("redirect")||"/index";window.location.href=D},Ne=function(m){var D=[].concat(j()(A),[m]);I(D),se([].concat(me,j()(D))),localStorage.setItem("customSites",JSON.stringify(D))};return(0,e.jsxs)("div",{className:r.container,onContextMenu:h,style:{backgroundImage:"url(".concat(Q,")")},children:[(0,e.jsx)("div",{className:r.themeSwitchWrapper,children:(0,e.jsx)(Y.ZP,{type:"text",icon:(0,e.jsx)(fe.Z,{}),onClick:p,className:r.themeSwitch,style:{color:"#ffffff",fontSize:"16px"},children:"\u6478\u9C7C\u6A21\u5F0F"})}),(0,e.jsx)(ce.Z,{overlay:(0,e.jsx)(Oe,{onWallpaperChange:f}),trigger:["contextMenu"],children:(0,e.jsx)("div",{className:r.wallpaperOverlay})}),(0,e.jsx)("div",{className:r.weatherSection,children:(0,e.jsxs)("div",{className:r.weatherInfo,children:[(0,e.jsx)("div",{className:r.temperature,children:F.temperature}),(0,e.jsxs)("div",{className:r.weatherDetails,children:[(0,e.jsx)("div",{children:F.city}),(0,e.jsx)("div",{children:F.condition})]})]})}),(0,e.jsxs)("div",{className:r.timeSection,children:[(0,e.jsx)("div",{className:r.time,children:M.format("HH:mm")}),(0,e.jsx)("div",{className:r.date,children:M.format("M\u6708D\u65E5 dddd")})]}),(0,e.jsx)("div",{className:r.searchSection,children:(0,e.jsxs)("div",{className:r.searchWrapper,children:[(0,e.jsx)(ce.Z,{menu:k,trigger:["click"],children:(0,e.jsxs)("div",{className:r.engineSelector,children:[(0,e.jsx)("img",{src:R.icon,alt:R.name}),(0,e.jsx)(pe.Z,{})]})}),(0,e.jsx)(G.Z,{size:"large",placeholder:"\u5728 ".concat(R.name," \u4E2D\u641C\u7D22"),prefix:(0,e.jsx)(_e.Z,{}),className:r.searchInput,onPressEnter:function(m){return Z(m.target.value)}})]})}),(0,e.jsx)("div",{className:r.shortcutsSection,children:H.map(function(n,m){return(0,e.jsx)(ge,i()({},n),m)})}),(0,e.jsx)("div",{className:r.countdownSection,children:(0,e.jsxs)("div",{className:r.countdownItem,children:[(0,e.jsx)("div",{className:r.countdownTitle,children:"\u8DDD\u79BB\u5468\u672B"}),(0,e.jsxs)("div",{className:r.countdownTime,children:[5-M.day(),"\u5929"]})]})}),(0,e.jsx)(Me,{visible:!0,onClose:function(){},onAddSite:Ne,sites:A})]})},ye=Ae},44608:function(b,S,t){(function(c,i){b.exports=i(t(95914))})(this,function(c){"use strict";function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var w=i(c),s={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(a,l){return l==="W"?a+"\u5468":a+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(a,l){var g=100*a+l;return g<600?"\u51CC\u6668":g<900?"\u65E9\u4E0A":g<1100?"\u4E0A\u5348":g<1300?"\u4E2D\u5348":g<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return w.default.locale(s,null,!0),s})},28508:function(b,S,t){"use strict";var c=t(1413),i=t(67294),w=t(89503),s=t(91146),a=function(j,O){return i.createElement(s.Z,(0,c.Z)((0,c.Z)({},j),{},{ref:O,icon:w.Z}))},l=i.forwardRef(a);S.Z=l},34804:function(b,S,t){"use strict";var c=t(1413),i=t(67294),w=t(66023),s=t(91146),a=function(j,O){return i.createElement(s.Z,(0,c.Z)((0,c.Z)({},j),{},{ref:O,icon:w.Z}))},l=i.forwardRef(a);S.Z=l},16801:function(b,S,t){"use strict";t.d(S,{Z:function(){return j}});var c=t(1413),i=t(67294),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},s=w,a=t(91146),l=function(C,v){return i.createElement(a.Z,(0,c.Z)((0,c.Z)({},C),{},{ref:v,icon:s}))},g=i.forwardRef(l),j=g},51042:function(b,S,t){"use strict";var c=t(1413),i=t(67294),w=t(42110),s=t(91146),a=function(j,O){return i.createElement(s.Z,(0,c.Z)((0,c.Z)({},j),{},{ref:O,icon:w.Z}))},l=i.forwardRef(a);S.Z=l},40110:function(b,S,t){"use strict";var c=t(1413),i=t(67294),w=t(509),s=t(91146),a=function(j,O){return i.createElement(s.Z,(0,c.Z)((0,c.Z)({},j),{},{ref:O,icon:w.Z}))},l=i.forwardRef(a);S.Z=l}}]);
