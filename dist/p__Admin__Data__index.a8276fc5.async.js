"use strict";(self.webpackChunkreact_frontend_init=self.webpackChunkreact_frontend_init||[]).push([[239],{67714:function(Ze,Z,e){e.r(Z),e.d(Z,{default:function(){return X}});var B=e(84136),E=e.n(B),M=e(57566),h=e.n(M),z=e(52487),T=e.n(z),G=e(90785),r=e.n(G),m=e(82257),u=e(29933),k=e(90930),I=e(42392),j=e(68872),V=e(78957),g=e(53531),W=e(26412),H=e(83622),J=e(55742),i=e(67294),K=e(74912),U=e(67524),t=e(85893),L=u.Z.Divider,O=I.default.RangePicker,Q=function(){var b=(0,i.useState)(!1),w=r()(b,1),q=w[0],$=(0,i.useState)(null),R=r()($,2),d=R[0],_=R[1],ee=(0,i.useState)(0),F=r()(ee,2),te=F[0],ae=F[1],ne=(0,i.useState)(0),P=r()(ne,2),se=P[0],ie=P[1],le=(0,i.useState)(0),Y=r()(le,2),re=Y[0],ue=Y[1],oe=(0,i.useState)(0),N=r()(oe,2),de=N[0],ve=N[1],ce=(0,i.useState)(0),fe=r()(ce,1),he=fe[0],me=(0,i.useState)([]),A=r()(me,2),ge=A[0],ye=A[1],je={data:ge,xField:"\u65E5\u671F",yField:"\u65B0\u589E\u7528\u6237",point:{shapeField:"square",sizeField:4},interaction:{tooltip:{marker:!1}},style:{lineWidth:2}},xe=function(){var n=T()(h()().mark(function l(){return h()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:try{(0,U.g5)().then(function(s){if(s.data){var o,c,y,a,f,p,C,D;ae((o=(c=s.data)===null||c===void 0?void 0:c.totalUsers)!==null&&o!==void 0?o:0),ie((y=(a=s.data)===null||a===void 0?void 0:a.todayActiveUsers)!==null&&y!==void 0?y:0),ue((f=(p=s.data)===null||p===void 0?void 0:p.todayNewUsers)!==null&&f!==void 0?f:0),ve((C=(D=s.data)===null||D===void 0?void 0:D.thisMonthActiveUsers)!==null&&C!==void 0?C:0)}})}catch(s){j.ZP.error("Failed to fetch userData:",s.message)}case 1:case"end":return v.stop()}},l)}));return function(){return n.apply(this,arguments)}}(),x=function(){var n=T()(h()().mark(function l(S,v,s){var o,c;return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,U.Dn)({type:S,beginTime:v,endTime:s});case 3:o=a.sent,o.data&&(c=o.data.map(function(f){return{\u65E5\u671F:f.date,\u65B0\u589E\u7528\u6237:f.newUserCount}}),ye(c)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),j.ZP.error("Failed to fetch newUserData:",a.t0.message);case 10:case"end":return a.stop()}},l,null,[[0,7]])}));return function(S,v,s){return n.apply(this,arguments)}}();(0,i.useEffect)(function(){xe(),x(he,"","")},[]);var Se=function(l){_(l)},pe=[{label:"\u672C\u5468",value:0},{label:"\u672C\u6708",value:1},{label:"\u4ECA\u5E74",value:2}];function Ce(n){x(n.target.value,"","")}function De(){if(!d||!d[0]||!d[1]){j.ZP.error("\u8BF7\u9009\u62E9\u5B8C\u6574\u7684\u65F6\u95F4\u8303\u56F4");return}var n=d[0].format("YYYY-MM-DD"),l=d[1].format("YYYY-MM-DD");x(3,n,l)}return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(k._z,{children:[(0,t.jsxs)(V.Z,{size:"large",style:{display:"flex",justifyContent:"space-between",overflow:"hidden"},children:[(0,t.jsx)(u.Z,{title:"\u5168\u90E8\u7528\u6237",className:"clickable-card",onClick:function(){m.history.push("/admin/user?type=0")},children:(0,t.jsx)(g.Z,{value:te,suffix:"\u4EBA"})}),(0,t.jsx)(u.Z,{title:"\u4ECA\u65E5\u65B0\u589E",className:"clickable-card",onClick:function(){m.history.push("/admin/user?type=1")},children:(0,t.jsx)(g.Z,{value:re,suffix:"\u4EBA"})}),(0,t.jsx)(u.Z,{title:"\u4ECA\u65E5\u6D3B\u8DC3",className:"clickable-card",onClick:function(){m.history.push("/admin/user?type=2")},children:(0,t.jsx)(g.Z,{value:se,suffix:"\u4EBA"})}),(0,t.jsx)(u.Z,{title:"\u672C\u6708\u6D3B\u8DC3",className:"clickable-card",onClick:function(){m.history.push("/admin/user?type=3")},children:(0,t.jsx)(g.Z,{value:de,suffix:"\u4EBA"})})]}),(0,t.jsx)(L,{type:q?"horizontal":"vertical"}),(0,t.jsx)(W.Z,{title:"\u65B0\u589E\u7528\u6237\u8D70\u52BF\u56FE",children:(0,t.jsx)(u.Z.Group,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:20},children:[(0,t.jsx)("div",{style:{marginRight:16},children:"\u641C\u7D22\u65F6\u95F4"}),(0,t.jsx)(O,{value:d,onChange:Se,style:{marginRight:16}}),(0,t.jsx)(H.ZP,{type:"primary",style:{marginRight:16},onClick:De,children:"\u67E5\u8BE2"}),(0,t.jsx)(J.ZP.Group,{options:pe,defaultValue:0,onChange:Ce,optionType:"button",buttonStyle:"solid"})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:20},children:(0,t.jsx)(K.Z,E()({},je))})]})})})]})})},X=Q}}]);
